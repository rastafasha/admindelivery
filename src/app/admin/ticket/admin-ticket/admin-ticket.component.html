<!-- Content-->
<section class="pt-lg-4 mb-3">
    <div class="pt-2 px-4 pl-lg-0 pr-xl-5">
        <div class="row">
            <div class="col-lg-12 card">
                <div class="border-bottom mt-lg-2 pb-2">
                    <h1 class="mt-lg-4">Tickets</h1>
                    <div class="d-flex flex-wrap flex-md-nowrap justify-content-between">
                        <p class="text-muted">Todos los tickets aperturados.</p>
                    </div>
                    <a href="javascript:;" (click)="PageSize()" class="btn btn-primary doctor-refresh ms-2 searchbtn"><i
                  class="fa fa-refresh"></i></a>

                </div>

                <div class="table-responsive">
                    <table class="table table-striped table-sm">
                        <thead class="thead-dark">
                            <tr>
                                <th>Usuario</th>
                                <th>Tema</th>
                                <th>Estado</th>
                                <th>Status</th>
                                <th>Chat</th>
                                <th>option</th>
                            </tr>
                        </thead>
                        <tbody *ngFor="let item of tickets.tickets | orderBy:'createdAt, desc'">
                            <tr>
                                <td>{{item.user.first_name}} {{item.user.last_name}}</td>
                                <td>{{item.tema}}</td>
                                <td>
                                    <span class="badge badge-success" *ngIf="item.estado == 1">Abierto</span>
                                    <span class="badge badge-danger" *ngIf="item.estado == 0">Cerrado</span>
                                </td>
                                <td>
                                    <ng-container *ngIf="item.estado == 1">
                                        <span class="badge badge-accent" *ngIf="item.status == '1'"> <span class="czi-message"></span> &nbsp; Espera de respuesta</span>
                                        <span class="badge badge-danger" *ngIf="item.status == '0'"> <span class="czi-message"></span> &nbsp; Nuevo mensaje</span>
                                    </ng-container>
                                    <ng-container *ngIf="item.estado == 0">
                                        <span class="badge badge-danger" *ngIf="item.estado == 0">Cerrado</span>
                                    </ng-container>
                                </td>
                                <td class="text-center"><a [routerLink]="['/dashboard/tikets/modulo/chat/',item._id]" routerLinkActive="router-link-active"><span class="czi-message"></span></a></td>
                                <td class="text-center">
                                     <a (click)="eliminarTicket(item)" class="dropdown-item"><span
                                                    class="czi-delete-document"></span> &nbsp;{{'Eliminar'}}</a>
                                </td>
                                
                            </tr>
                        </tbody>
                    </table>
                    <pagination-controls (pageChange)="p = $event"></pagination-controls>
                </div>
            </div>
        </div>

    </div>
</section>